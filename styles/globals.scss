// styles/globals.scss

@use "./tokens";
@use "./primitives" as p;
@use "./mixins" as *;
@use "./layout/rhythm";

html,
body {
  margin: 0;
  padding: 0;
}

html {
  font-size: 100%;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  color: var(--c-text);
  background: var(--c-bg);
  line-height: var(--lh-normal);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;

  /* Mobile sticky bar offset */
  padding-bottom: calc(80px + env(safe-area-inset-bottom));
}

/* Reset padding on desktop where sticky bar is hidden */
@include respond-to('md') {
  body {
    padding-bottom: 0;
  }
}

/* Global utility container */
.container {
  @include p.container;
}

/* Accessible focus ring */
:where(a, button, [role="button"], input, select, textarea) {
  &:focus-visible {
    outline: 2px solid var(--c-primary);
    @supports (color: color-mix(in oklab, #000, #fff)) {
      outline: 2px solid color-mix(in oklab, var(--c-primary) 70%, #000 30%);
    }
    outline-offset: 2px;
    border-radius: calc(var(--radius) / 2);
  }
}

/* Utility buttons */
.button {
  @include p.btn;
}
.button--outline {
  @include p.btn-outline;
}

/* Visually hidden util */
.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* Motion-safe */
@media (prefers-reduced-motion: reduce) { * { animation: none !important; transition: none !important; } }

/* Sections */
.hero-section { padding-block: var(--sp-6); }

.section {
  min-height: 40vh;
  padding: 4rem 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

.bgLight { background-color: var(--c-bg); }
.bgWhite { background-color: var(--c-surface); }

.containerCentered {
  @include container;
  text-align: center;
  max-width: 800px;
}

.textMuted {
  color: var(--c-muted);
  margin-top: 1rem;
  font-size: var(--fs-lg);
}

/* Layout root */
.app-root { min-height: 100svh; display: flex; flex-direction: column; }

/* Utility Typography */
.h1 { @include p.h1; }
.h2 { @include p.h2; }
.lead { @include p.lead; }

.fb-noscript-pixel { display: none; }
